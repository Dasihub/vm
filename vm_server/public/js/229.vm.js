(self.webpackChunkclient=self.webpackChunkclient||[]).push([[229],{9948:(e,s,t)=>{"use strict";t.d(s,{t:()=>a});const a=(e,s)=>e.reduce((function(e,t){return(e[t[s]]=e[t[s]]||[]).push(t),e}),{})},6670:(e,s,t)=>{"use strict";t.d(s,{Y:()=>p,n:()=>h});var a=t(5893),l=t(7294),i=t(7116),n=t(927),c=t(5248),d=t(7026),r=t(3932),u=t(7869),o=t(9948),v=t(7484),g=t.n(v),j=t(1491),b=function(e,s,t,a){return new(t||(t=Promise))((function(l,i){function n(e){try{d(a.next(e))}catch(e){i(e)}}function c(e){try{d(a.throw(e))}catch(e){i(e)}}function d(e){var s;e.done?l(e.value):(s=e.value,s instanceof t?s:new t((function(e){e(s)}))).then(n,c)}d((a=a.apply(e,s||[])).next())}))};const h=({groups:e,vidZanyatie:s,idDiscipline:t,isSelect:v,discipline:h,credit:_,idGroup:x,idWs:p,idYear:m,idVidZanyatie:O,back:y})=>{const{request:f}=(0,n.i)(),N=(0,j.U)(),[w,k]=l.useState([]),{id_user:S}=(0,d.X)((e=>e.authReducer)),{years:D}=(0,d.X)((e=>e.yearReducer)),{ws:$}=(0,d.X)((e=>e.wsReducer)),{surname:C,name:z,patronymic:Y}=(0,d.X)((e=>e.userInfoReducer)),U=l.useRef(null),[M,F]=l.useState([]),[R,P]=l.useState(!1),[W,V]=l.useState(!1),[E,J]=l.useState(!1),[A,X]=l.useState(""),I=(0,o.t)(M,"dates"),T=()=>b(void 0,void 0,void 0,(function*(){P(!0);const{data:e}=yield f(`/reports/journal?year=${m}&id_ws=${p}&discipline=${t}&credit=${_}&group=${x}&id_teacher=${S}&id_vid_zaniatiy=${O}&isSelect=${v}`);if(P(!1),!e.length)return V(!0);let s=e.reduce(((e,s)=>(e[s.s_fio]=e[s.s_fio]||[],e[s.s_fio].push({date:s.dates,otsenka:s.otsenka,timesCount:s.timesCount}),e)),{}),a=Object.keys(s),l=[],i={item:0,count:0};for(let s=0;s<e.length;s++){let t=e.filter((t=>t.s_fio===e[s].s_fio)).length;t>i.count&&(i={item:e[s],count:e.filter((t=>t.s_fio===e[s].s_fio)).length})}let{item:n,count:c}=i,d={name:"ФИО студента"};for(let e=0;e<c;e++)d["date_"+e]=s[n.s_fio][e].date;d.nb_Count="Всего н/б",d.ball_Count="Общая сумма",d.ball_average="Средняя оценка",l.push(d);for(let t=0;t<a.length;t++){let i={name:a[t]},d=0,r=0,u=null;s[n.s_fio].map(((e,l)=>{u=s[a[t]].filter((s=>s.date==e.date&&s.timesCount==e.timesCount))[0],i["date_"+l]=u?u.otsenka:null}));for(let e=0;e<c;e++)s[a[t]][e]&&("н/б"==s[a[t]][e].otsenka?d+=1:r+=null==s[a[t]][e].otsenka?0:parseInt(s[a[t]][e].otsenka));i.nb_Count=d,i.ball_Count=r,i.ball_average=Math.round(100*r/c)/100,l.push(i),F(e),k(l)}})),H=(0,i.useReactToPrint)({content:()=>U.current}),L=e=>{X(e),J(!0)};return l.useEffect((()=>{z.length&&T()}),[z]),R?(0,a.jsx)("div",Object.assign({className:"vh-100 flex justify-content-center align-items-center"},{children:(0,a.jsx)(c.aN,{})})):(0,a.jsxs)(a.Fragment,{children:[E&&(0,a.jsx)(c.bZ,{hide:J.bind(null,!1),confirm:()=>b(void 0,void 0,void 0,(function*(){J(!1);const{timesCount:e,id_discipline:s,id_semesterOrWs:t,id_vid_zaniatiy:a,credits:l,visitDate:i}=I[A][0],n=g()(i).format("YYYY-MM-DD"),{data:c}=yield f(`/reports/journal/?id_teacher=${S}&id_discipline=${s}&credit=${l}&visitDate=${n}&id_groupOrPorok=${x}&id_year=${m}&id_ws=${p}&id_semesterOrWs=${t}&id_vid_zaniatiy=${a}&timesCount=${e}`,"DELETE");N(null==c?void 0:c.SMS_T_StudentJournalVisit_delete,"success"),T()}))}),(0,a.jsxs)("div",Object.assign({className:"m-l-r-2 flex align-items-center gap-1"},{children:[(0,a.jsx)("i",{className:"fa-solid fa-arrow-left-long color-primary",onClick:y,style:{cursor:"pointer",fontSize:"30px"}}),W?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{onClick:()=>{const e=u.utils.json_to_sheet(w);console.log({ws:e})},style:{cursor:"pointer",width:"40px"},src:r.XO,alt:"exel"}),(0,a.jsx)("img",{onClick:H,style:{cursor:"pointer",width:"40px"},src:r.Kh,alt:"print"})]})]})),(0,a.jsxs)("div",Object.assign({className:"print_container box_container mt-2",ref:U},{children:[(0,a.jsx)("h1",Object.assign({className:"head_title"},{children:"ЖУРНАЛ УЧЕТА ЗАНЯТИЙ"})),W?(0,a.jsx)("p",Object.assign({className:"text-center mt-4"},{children:"Пока нет данных!"})):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",Object.assign({className:"mt-3 m-l-r-2"},{children:["Преподаватель:"," ",(0,a.jsxs)("strong",{children:[C," ",z," ",Y]})]})),(0,a.jsxs)("div",Object.assign({className:"mt-1 m-l-r-2"},{children:["Учебный год:"," ",(0,a.jsx)("strong",{children:D.map((e=>e.id_a_year===m?e.p32:null))})]})),(0,a.jsxs)("div",Object.assign({className:"mt-1 m-l-r-2"},{children:["Полугодие/Семестр: ",(0,a.jsx)("strong",{children:$.map((e=>e.id_ws===p?e.ws:null))})]})),(0,a.jsxs)("div",Object.assign({className:"mt-1 m-l-r-2"},{children:["Факультет/Группа:"," ",(0,a.jsx)("strong",{children:e.map((e=>e.id_group===x?e.groups:null))})]})),(0,a.jsxs)("div",Object.assign({className:"mt-1 m-l-r-2"},{children:["Дисциплина: ",(0,a.jsx)("strong",{children:h})]})),(0,a.jsxs)("div",Object.assign({className:"mt-1 m-l-r-2"},{children:["Вид занятий:"," ",(0,a.jsx)("strong",{children:s.map((e=>e.id_vid_zaniatiy===O?e.name_vid_zaniatiy:null))})]})),(0,a.jsx)("div",Object.assign({className:"mt-4 m-l-r-2 overflow-auto"},{children:(0,a.jsx)("table",Object.assign({className:"table"},{children:(0,a.jsx)("tbody",{children:w.map(((e,s)=>{let t=Object.keys(e);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("tr",{children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("td",Object.assign({className:"text-center"},{children:s})),t.map(((s,t)=>(0,a.jsx)("td",Object.assign({style:"name"==s?{textAlign:"left",paddingLeft:"10px"}:{textAlign:"center"}},{children:e[s]?e[s]:"-"}),t)))]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("th",Object.assign({className:"bg-color-primary"},{children:"№"})),t.map(((s,t)=>s.includes("date_")?(0,a.jsxs)("th",Object.assign({className:"bg-color-primary"},{children:[" ",(0,a.jsx)("i",{onClick:L.bind(null,e[s]),style:{color:"white",marginRight:"8px"},className:"fa fa-pencil pointer"})," ",e[s]?e[s]:"-"]}),t):(0,a.jsx)("th",Object.assign({className:"bg-color-primary"},{children:e[s]?e[s]:"-"}),t)))]})},s)})}))})}))}))]})]}))]})},_="VEyjnebNx__nyt463ibK",x="eKLs5FMR9DB95RG3A0gJ";const p=({id:e,back:s})=>{const{request:t,loader:d}=(0,n.i)(),[u,o]=l.useState(),v=l.useRef(null);l.useEffect((()=>{var s,a,l,i;s=void 0,a=void 0,i=function*(){const{data:s}=yield t(`/reports/admission/${e}`);o(s)},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{d(i.next(e))}catch(e){t(e)}}function c(e){try{d(i.throw(e))}catch(e){t(e)}}function d(s){var t;s.done?e(s.value):(t=s.value,t instanceof l?t:new l((function(e){e(t)}))).then(n,c)}d((i=i.apply(s,a||[])).next())})),document.body.style.overflowY="visible"}),[]);const g=(0,i.useReactToPrint)({content:()=>v.current});return d?(0,a.jsx)("div",Object.assign({className:"flex justify-content-center align-items-center vh-100"},{children:(0,a.jsx)(c.aN,{})})):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",Object.assign({className:"mz4FpGyFUQ6MLmIpFnIc"},{children:[(0,a.jsx)("i",{className:"fa-solid fa-arrow-left-long color-primary",onClick:s,style:{cursor:"pointer",fontSize:"30px"}}),(0,a.jsx)("img",{onClick:g,src:r.Kh,alt:"print"})]})),(0,a.jsxs)("div",Object.assign({className:"heLn8IzdIZAjmnAHoi0Z",ref:v},{children:[(0,a.jsxs)("div",Object.assign({style:{padding:"30px 0 0 70px",fontWeight:"bold"}},{children:[(0,a.jsx)("span",Object.assign({style:{fontWeight:"500"}},{children:"Шифр"})),": ",null==u?void 0:u.shifr]})),(0,a.jsxs)("div",Object.assign({style:{paddingTop:"20px"}},{children:[(0,a.jsxs)("div",Object.assign({className:"text-center flex gap-1 justify-content-center"},{children:[(0,a.jsx)("h2",{children:"ДОПУСК №"})," ",(0,a.jsx)("div",{className:x,style:{width:"50px"}})]})),(0,a.jsx)("h2",Object.assign({className:"text-center"},{children:"на платную обработку"}))]})),(0,a.jsxs)("div",Object.assign({className:_},{children:[(0,a.jsx)("span",Object.assign({style:{fontWeight:"500"}},{children:"по дисциплине:"}))," ",null==u?void 0:u.discipline]})),(0,a.jsxs)("div",Object.assign({className:_},{children:[(0,a.jsx)("span",Object.assign({style:{fontWeight:"500"}},{children:"Ф.И.О студента:"}))," ",null==u?void 0:u.s_fio]})),(0,a.jsx)("div",{className:_}),(0,a.jsxs)("div",Object.assign({className:_},{children:[(0,a.jsx)("span",Object.assign({style:{fontWeight:"500"}},{children:"Год:"}))," ",null==u?void 0:u.years,"г"," ",(0,a.jsx)("span",Object.assign({style:{fontWeight:"500"}},{children:"Факультет:"}))," ",null==u?void 0:u.faculty," ",(0,a.jsx)("span",Object.assign({style:{fontWeight:"500"}},{children:"Курс:"}))," ",null==u?void 0:u.rate," ",(0,a.jsx)("span",Object.assign({style:{fontWeight:"500"}},{children:"Группа:"}))," ",null==u?void 0:u.groups]})),(0,a.jsxs)("div",Object.assign({className:_},{children:[(0,a.jsx)("span",Object.assign({style:{fontWeight:"500"}},{children:"Дата пропуска:"}))," ",null==u?void 0:u.visitDate]})),(0,a.jsxs)("div",Object.assign({className:_},{children:[(0,a.jsx)("span",Object.assign({style:{fontWeight:"500"}},{children:"Срок ликвидации задолженности:"}))," ",null==u?void 0:u.endDate,"г"]})),(0,a.jsxs)("div",Object.assign({className:_},{children:[(0,a.jsx)("span",Object.assign({style:{fontWeight:"500"}},{children:"Декан:"})),(0,a.jsxs)("div",Object.assign({className:"flex gap-1"},{children:[(0,a.jsx)("div",{children:null==u?void 0:u.n_director})," ",(0,a.jsx)("div",{className:x})]}))]})),(0,a.jsx)("div",Object.assign({className:_},{children:null==u?void 0:u.datePrint}))]}))]})}},3319:(e,s,t)=>{"use strict";t.d(s,{oV:()=>p,ih:()=>j,ix:()=>r,JT:()=>R,wp:()=>X,n4:()=>i,V0:()=>u,J$:()=>E});var a=t(5893),l=t(9948);const i=({students:e,showModal:s})=>{const t=(0,l.t)(e,"discipline"),i=(0,l.t)(e,"s_fio");return Object.keys(t).forEach((e=>{t[e]=(0,l.t)(t[e],"visitDate")})),e.length?(0,a.jsx)("div",Object.assign({className:"overflow-auto mt-4 box_container",style:{maxHeight:"900px"}},{children:(0,a.jsxs)("table",Object.assign({className:"table"},{children:[(0,a.jsxs)("thead",Object.assign({className:"bg-light",style:{position:"sticky",top:"2px"}},{children:[(0,a.jsxs)("tr",Object.assign({style:{fontSize:"14px"}},{children:[(0,a.jsx)("th",Object.assign({className:"th",rowSpan:2},{children:"№"})),(0,a.jsx)("th",Object.assign({className:"th",rowSpan:2},{children:"Студент"})),Object.keys(t).sort().map((e=>(0,a.jsxs)("th",Object.assign({className:"th",rowSpan:1,colSpan:Object.keys(t[e]).length},{children:[t[e][Object.keys(t[e])[0]][0].discipline,(0,a.jsx)("div",Object.assign({style:{fontSize:"14px"}},{children:t[e][Object.keys(t[e])[0]][0].t_fio}))]}),"disc"+e)))]})),(0,a.jsx)("tr",{children:Object.keys(t).sort().map((e=>Object.keys(t[e]).sort().map((s=>{if(s)return(0,a.jsxs)("th",Object.assign({className:"th",rowSpan:1,colSpan:1},{children:[t[e][s][0].visitDate,(0,a.jsx)("div",Object.assign({style:{fontSize:"14px"}},{children:t[e][s][0].t_fio}))]}),"date"+s)}))))})]})),(0,a.jsx)("tbody",{children:Object.keys(i).sort().map(((e,l)=>{var n;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",Object.assign({className:"text-center"},{children:l+1})),(0,a.jsxs)("td",{children:[" ",null===(n=i[e][0])||void 0===n?void 0:n.s_fio]}),Object.keys(t).sort().map((l=>Object.keys(t[l]).sort().map(((i,n)=>{var c,d;return(0,a.jsx)("td",Object.assign({onClick:s,className:6==(null===(c=t[l][i].find((s=>s.s_fio==e)))||void 0===c?void 0:c.id_otsenka)?"text-center bg-color-danger pointer color-light":"text-center"},{children:null===(d=t[l][i].find((s=>s.s_fio==e)))||void 0===d?void 0:d.otsenka}),"date"+n)}))))]},"student"+e)}))})]}))})):(0,a.jsx)("h4",Object.assign({className:"text-center mt-2"},{children:"Нет данных"}))};var n=t(7294),c=t(5248),d=t(7026);const r=({hideModal:e})=>{const{dopusk:s,dopuskDetal:t,vidDopusk:l}=(0,d.X)((e=>e.jurnalReducer)),[i,r]=n.useState({dopusk:{value:null,label:""},dopuskDetal:{value:null,label:""},vidDopusk:{value:null,label:""},cipher:"",date:"",file:null}),u=e=>{r(Object.assign(Object.assign({},i),{[e.target.name]:e.target.value}))};return(0,a.jsx)(c.Du,Object.assign({title:"Журнал",hide:e},{children:(0,a.jsxs)("form",{children:[(0,a.jsx)("div",Object.assign({className:"mt-2"},{children:(0,a.jsx)(c.uU,{options:s.map((e=>({value:e.id_studentJournalVisit_typeDopusk,label:e.vidDopusk}))),onChange:e=>{r(Object.assign(Object.assign({},i),{dopusk:e}))},label:"Тип. допуска",placeholder:"Тип. допуска"})})),(0,a.jsx)("div",Object.assign({className:"mt-2"},{children:(0,a.jsx)(c.uU,{options:t.map((e=>({value:e.id_studentJournalVisit_typeDopusk_detal,label:e.typeDopusk_detal}))),onChange:e=>{r(Object.assign(Object.assign({},i),{dopuskDetal:e}))},label:"Основание",placeholder:"Основание"})})),(0,a.jsx)("div",Object.assign({className:"mt-2"},{children:(0,a.jsx)(c.uU,{options:l.map((e=>({value:e.id_studentJournalVisit_vidDopusk,label:e.vidDopusk}))),onChange:e=>{r(Object.assign(Object.assign({},i),{vidDopusk:e}))},label:"Количество",placeholder:"Количество"})})),(0,a.jsx)("div",Object.assign({className:"mt-2"},{children:(0,a.jsx)(c.II,{label:"Шифр квитанции",placeholder:"0",type:"number",value:i.cipher,onChange:u})})),(0,a.jsx)("div",Object.assign({className:"mt-2"},{children:(0,a.jsx)(c.II,{label:"Дата квитанции",type:"date",value:i.date,onChange:u})})),(0,a.jsx)("div",Object.assign({className:"mt-2"},{children:(0,a.jsx)(c.Pw,{id:"d",onChange:e=>{console.log(e.target.files)}})})),(0,a.jsx)("div",Object.assign({className:"mt-2 flex justify-content-end"},{children:(0,a.jsx)(c.zx,{value:"Сохранить"})}))]})}))},u=({index:e,item:s,setStudent:t,grade:l,updateOtsenkaApi:i})=>{const[d,r]=n.useState({value:null,label:""});return n.useEffect((()=>{if(s.id_student&&l.length){const e=l.find((e=>e.id_otsenka==s.id_otsenka));r({value:(null==e?void 0:e.id_otsenka)?null==e?void 0:e.id_otsenka:null,label:(null==e?void 0:e.id_otsenka)?null==e?void 0:e.otsenka:""})}}),[s]),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e+1})),(0,a.jsx)("td",Object.assign({style:{paddingLeft:"10px"}},{children:s.s_fio})),(0,a.jsx)("td",Object.assign({style:{width:"150px"},className:"text-center p-l-r-1",title:"Выберите оценку"},{children:(0,a.jsx)(c.uU,{value:d.value?d:"",onFocus:t.bind(null,s),isDisabled:!s.status_upd,placeholder:"---",options:s.status_upd?null==l?void 0:l.map((e=>({value:e.id_otsenka,label:e.otsenka}))):[],onChange:e=>{r(e),i(e)}})}))]})};var o=t(7484),v=t.n(o);const g="d8X0bwORyseuDHYwgjFE",j=({visitDateGrouped:e,data:s,dataMax:t})=>(0,a.jsx)("div",Object.assign({className:"overflow-auto mt-4 box_container",style:{maxHeight:"900px",minHeight:"400px"}},{children:(0,a.jsxs)("table",Object.assign({className:"AUZ7Ath_FFgSxm9V2Erd"},{children:[(0,a.jsxs)("thead",Object.assign({className:"bg-light"},{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",Object.assign({rowSpan:2,style:{width:"50px"}},{children:"№"})),(0,a.jsx)("th",Object.assign({rowSpan:2},{children:"Дата"})),(0,a.jsx)("th",Object.assign({colSpan:Object.keys(e).length},{children:"Вид занятие"}))]}),(0,a.jsx)("tr",{children:Object.keys(e).map(((e,s)=>(0,a.jsx)("th",{children:e},s)))})]})),(0,a.jsx)("tbody",{children:Object.keys(s).map(((l,i)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",Object.assign({className:g,style:{textAlign:"center"},rowSpan:t[l]},{children:i+1})),(0,a.jsx)("td",Object.assign({className:g,style:{textAlign:"center",width:"200px"},rowSpan:t[l]},{children:v()(l).format("DD-MM-YYYY")})),Object.keys(e).map(((e,i)=>(0,a.jsx)("td",Object.assign({className:s[l][e]?g:"J44FWnqURJcP9o2IAYPu",rowSpan:t[l]},{children:Array.from(Array(t[l]).keys()).map(((t,i)=>{var n,c,d,r,u,o;return s[l][e]?(0,a.jsx)("div",Object.assign({className:(null===(n=s[l][e][i+1])||void 0===n?void 0:n.length)&&(null===(c=s[l][e][i+1][0])||void 0===c?void 0:c.timesCount)?(null===(d=s[l][e][i+1][0])||void 0===d?void 0:d.otsenka)||"color-primary":"color-danger"},{children:(null===(r=s[l][e][i+1])||void 0===r?void 0:r.length)&&(null===(u=s[l][e][i+1][0])||void 0===u?void 0:u.timesCount)?(null===(o=s[l][e][i+1][0])||void 0===o?void 0:o.otsenka)||"присут":"отсутст"}),i):(0,a.jsx)("div",{style:{height:"34px",backgroundColor:"#F9F9F9"},className:"text-center"},i)}))}),i)))]},i),Array.from(Array(t[l]-1).keys()).map(((e,s)=>(0,a.jsx)("tr",{style:{visibility:"hidden"}},s)))]})))})]}))}));var b=t(927),h=t(5438),_=t(1570);var x=function(e,s,t,a){return new(t||(t=Promise))((function(l,i){function n(e){try{d(a.next(e))}catch(e){i(e)}}function c(e){try{d(a.throw(e))}catch(e){i(e)}}function d(e){var s;e.done?l(e.value):(s=e.value,s instanceof t?s:new t((function(e){e(s)}))).then(n,c)}d((a=a.apply(e,s||[])).next())}))};const p=({showModal:e})=>{const{request:s}=(0,b.i)(),{years:t,isLoaderYear:l}=(0,d.X)((e=>e.yearReducer)),{ws:r,isLoaderWs:u}=(0,d.X)((e=>e.wsReducer)),o=(0,h.P)(),{id_avn_user:g}=(0,d.X)((e=>e.authReducer)),[j,p]=n.useState([]),[m,O]=n.useState([]),[y,f]=n.useState([]),[N,w]=n.useState([]),[k,S]=n.useState([]),[D,$]=n.useState([]),[C,z]=n.useState([]),[Y,U]=n.useState({value:null,label:""}),[M,F]=n.useState([]),[R,P]=n.useState({feduc:!1,group:!1,direction:!1,faculty:!1,semester:!1,speciality:!1,vid_zanyatie:!1,student:!1}),[W,V]=n.useState({v_year:{value:null,label:""},v_semester:{value:null,label:""},v_faculty:{value:null,label:""},v_feduc:{value:null,label:""},v_direction:{value:null,label:""},v_speciality:{value:null,label:""},v_group:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},v_date:v()(new Date).format("YYYY-MM-DD")}),E=e=>x(void 0,void 0,void 0,(function*(){P(Object.assign(Object.assign({},R),{semester:!0}));const{data:t}=yield s(`/selectors/semester/${e}`);P(Object.assign(Object.assign({},R),{semester:!1})),p(t)}));return n.useEffect((()=>{o((0,_.a)())}),[]),n.useEffect((()=>{if(t.length){const{id_a_year:e,p32:s}=t.find((e=>1==e.defaultValue));V(Object.assign(Object.assign({},W),{v_year:{value:e,label:s}}))}}),[t]),n.useEffect((()=>{if(r.length){const{id_ws:e,ws:s}=r.find((e=>1==e.defaultValue));U({value:e,label:s}),E(e)}}),[r]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",Object.assign({className:"box_container"},{children:(0,a.jsxs)("div",Object.assign({className:"cNbJVtddzrbjDmcKjeDP"},{children:[(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Учебный год",label:"Учебный год",value:W.v_year,options:t.map((e=>({value:e.id_a_year,label:e.p32}))),onChange:e=>{V({v_year:e,v_semester:{value:null,label:""},v_faculty:{value:null,label:""},v_feduc:{value:null,label:""},v_direction:{value:null,label:""},v_speciality:{value:null,label:""},v_group:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},v_date:v()(new Date).format("YYYY-MM-DD")}),U({value:null,label:""}),M.length&&F([]),j.length&&p([]),m.length&&O([]),y.length&&f([]),N.length&&w([]),k.length&&S([]),D.length&&$([]),C.length&&z([])},loader:l})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Полугодие",label:"Полугодие",value:Y||"",options:W.v_year.value?r.map((e=>({value:e.id_ws,label:e.ws}))):[],onChange:e=>{U(e),j.length&&p([]),M.length&&F([]),E(e.value),m.length&&O([]),y.length&&f([]),N.length&&w([]),k.length&&S([]),D.length&&$([]),C.length&&z([])},loader:u,isDisabled:!W.v_year.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Семестр",label:"Семестр",value:W.v_semester.value?W.v_semester:"",options:Y.value?j.map((e=>({value:e.id_semester,label:e.semester}))):[],onChange:e=>{V(Object.assign(Object.assign({},W),{v_semester:e,v_faculty:{value:null,label:""},v_feduc:{value:null,label:""},v_direction:{value:null,label:""},v_speciality:{value:null,label:""},v_group:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},v_date:v()(new Date).format("YYYY-MM-DD")})),m.length&&O([]),M.length&&F([]),x(void 0,void 0,void 0,(function*(){P(Object.assign(Object.assign({},R),{faculty:!0}));const{data:e}=yield s(`/selectors/faculties/${g}`);P(Object.assign(Object.assign({},R),{faculty:!1})),O(e)})),y.length&&f([]),N.length&&w([]),k.length&&S([]),D.length&&$([]),C.length&&z([])},loader:R.semester,isDisabled:!Y.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Факультет",label:"Факультет",value:W.v_faculty.value?W.v_faculty:"",options:W.v_semester.value?m.map((e=>({value:e.id_faculty,label:e.faculty}))):[],onChange:e=>{var t;V(Object.assign(Object.assign({},W),{v_faculty:e,v_feduc:{value:null,label:""},v_direction:{value:null,label:""},v_speciality:{value:null,label:""},v_group:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},v_date:v()(new Date).format("YYYY-MM-DD")})),y.length&&f([]),M.length&&F([]),t=e.value,x(void 0,void 0,void 0,(function*(){P(Object.assign(Object.assign({},R),{feduc:!0}));const{data:e}=yield s(`/selectors/feduc?id_user=${g}&id_faculty=${t}`);P(Object.assign(Object.assign({},R),{feduc:!1})),f(e)})),N.length&&w([]),k.length&&S([]),D.length&&$([]),C.length&&z([])},loader:R.faculty,isDisabled:!W.v_semester.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Форма обучение",label:"Форма обучение",value:W.v_feduc.value?W.v_feduc:"",options:W.v_faculty.value?y.map((e=>({value:e.id_f_educ,label:e.f_educ}))):[],onChange:e=>{var t;V(Object.assign(Object.assign({},W),{v_feduc:e,v_direction:{value:null,label:""},v_speciality:{value:null,label:""},v_group:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},v_date:v()(new Date).format("YYYY-MM-DD")})),N.length&&w([]),M.length&&F([]),t=e.value,x(void 0,void 0,void 0,(function*(){const{v_year:e,v_semester:a,v_faculty:l}=W;P(Object.assign(Object.assign({},R),{direction:!0}));const{data:i}=yield s(`/selectors/direction?id_year=${e.value}&id_semester=${a.value}&id_faculty=${l.value}&id_f_educ=${t}`);P(Object.assign(Object.assign({},R),{direction:!1})),w(i)})),k.length&&S([]),D.length&&$([]),C.length&&z([])},loader:R.feduc,isDisabled:!W.v_faculty.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Направление",label:"Направление",value:W.v_direction.value?W.v_direction:"",options:W.v_feduc.value?N.map((e=>({value:e.id_direction,label:e.direction}))):[],onChange:e=>x(void 0,void 0,void 0,(function*(){var t;V(Object.assign(Object.assign({},W),{v_direction:e,v_speciality:{value:null,label:""},v_group:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},v_date:v()(new Date).format("YYYY-MM-DD")})),k.length&&S([]),M.length&&F([]),t=e.value,x(void 0,void 0,void 0,(function*(){const{v_year:e,v_semester:a,v_faculty:l,v_feduc:i}=W;P(Object.assign(Object.assign({},R),{speciality:!0}));const{data:n}=yield s(`/selectors/specialities?id_year=${e.value}&id_semester=${a.value}&id_faculty=${l.value}&id_f_educ=${i.value}&id_direction=${t}`);P(Object.assign(Object.assign({},R),{speciality:!1})),S(n)})),D.length&&$([]),C.length&&z([])})),loader:R.direction,isDisabled:!W.v_feduc.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Специальность",label:"Специальность",value:W.v_speciality.value?W.v_speciality:"",options:W.v_direction.value?k.map((e=>({value:e.id_speciality,label:e.special}))):[],onChange:e=>x(void 0,void 0,void 0,(function*(){var t;V(Object.assign(Object.assign({},W),{v_speciality:e,v_group:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},v_date:v()(new Date).format("YYYY-MM-DD")})),D.length&&$([]),M.length&&F([]),t=e.value,x(void 0,void 0,void 0,(function*(){const{v_year:e,v_faculty:a,v_semester:l}=W;P(Object.assign(Object.assign({},R),{group:!0}));const{data:i}=yield s(`/selectors/group?id_year=${e.value}&id_semester=${l.value}&id_faculty=${a.value}&id_speciality=${t}`);P(Object.assign(Object.assign({},R),{group:!1})),$(i)})),C.length&&z([])})),loader:R.speciality,isDisabled:!W.v_direction.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Группа",label:"Группа",value:W.v_group.value?W.v_group:"",options:W.v_speciality.value?D.map((e=>({value:e.id_group,label:e.p20}))):[],onChange:e=>{var t;V(Object.assign(Object.assign({},W),{v_group:e})),C.length&&z([]),M.length&&F([]),t=e.value,x(void 0,void 0,void 0,(function*(){const{v_year:e,v_semester:a}=W;P(Object.assign(Object.assign({},R),{vid_zanyatie:!0}));const{data:l}=yield s(`/selectors/vid-zanyatie?id_year=${e.value}&id_semester=${a.value}&id_group=${t}`);P(Object.assign(Object.assign({},R),{vid_zanyatie:!1})),z(l)}))},loader:R.group,isDisabled:!W.v_speciality.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Вид занятие",label:"Вид занятие",value:W.v_vid_zanyatie.value?W.v_vid_zanyatie:"",options:W.v_group.value?C.map((e=>({value:e.id_vid_zaniatiy,label:e.vid_zaniatiy}))):[],onChange:e=>{var t;V(Object.assign(Object.assign({},W),{v_vid_zanyatie:e})),t=e.value,x(void 0,void 0,void 0,(function*(){P(Object.assign(Object.assign({},R),{student:!0}));const{v_year:e,v_semester:a,v_faculty:l,v_feduc:i,v_group:n}=W,{data:c}=yield s(`/dekanat/students/?id_year=${e.value}&id_ws=${Y.value}&id_semester=${a.value}&id_faculty=${l.value}&id_f_educ=${i.value}&id_group=${n.value}&id_vid_zaniatiy=${t}`);P(Object.assign(Object.assign({},R),{student:!1})),F(c)}))},loader:R.vid_zanyatie,isDisabled:!W.v_group.value})}))]}))})),R.student?(0,a.jsx)("div",Object.assign({className:"flex justify-content-center align-items-center mt-2"},{children:(0,a.jsx)(c.aN,{})})):M.length?(0,a.jsx)(i,{showModal:e,students:M}):(0,a.jsx)("p",Object.assign({className:"text-center mt-4"},{children:"Выберите поля чтобы вывести данные!"}))]})},m="JIxW2Q4XJH5ENf1AHhAz",O="FnuzREjUPbtdHzPaoc_y",y="XyztGTJJeEggHsz2X8DW",f=({hideModal:e,grade:s,working:t,idWorking:l,idOtsenka:i,updateJournal:d,status:r})=>{const[u,o]=n.useState({v_working:{value:null,label:""},v_otsenka:{value:null,label:""}}),[v,g]=n.useState({cipher:"",description:""}),j=e=>{g((s=>Object.assign(Object.assign({},s),{[e.target.name]:e.target.value})))};n.useEffect((()=>{const{id_T_StudentJournalVisit_working_off:e,working_off_name:a}=t.find((e=>e.id_T_StudentJournalVisit_working_off==l)),{id_otsenka:n,otsenka:c}=s.find((e=>e.id_otsenka==i));o({v_working:{value:e,label:a},v_otsenka:{value:n,label:c}})}),[]);const{v_working:b,v_otsenka:h}=u;return(0,a.jsx)(c.Du,Object.assign({title:"Деканат",hide:e},{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:["Оплачено: ",r]}),(0,a.jsx)("div",Object.assign({className:"w-100 mt-2"},{children:(0,a.jsx)(c.uU,{placeholder:"Тип отработки",label:"Тип отработки",value:b.value?b:"",options:t.map((e=>({value:e.id_T_StudentJournalVisit_working_off,label:e.working_off_name}))),onChange:e=>o((s=>Object.assign(Object.assign({},s),{v_working:e})))})})),(0,a.jsx)("div",Object.assign({className:"w-100 mt-2"},{children:(0,a.jsx)(c.uU,{placeholder:"Допуск",label:"Допуск",value:h.value||0==h.value?h:"",onChange:e=>o((s=>Object.assign(Object.assign({},s),{v_otsenka:e}))),options:s.map((e=>({value:e.id_otsenka,label:e.otsenka})))})})),(0,a.jsx)("div",Object.assign({className:"w-100 mt-2"},{children:(0,a.jsx)(c.II,{value:v.cipher,label:"Шифр",id:"cipher",type:"number",name:"cipher",onChange:j})})),(0,a.jsx)("div",Object.assign({className:"w-100 mt-2"},{children:(0,a.jsx)(c.Kx,{value:v.description,onChange:j,name:"description",label:"Описание"})})),(0,a.jsx)("div",Object.assign({className:"mt-2 flex justify-content-end"},{children:(0,a.jsx)(c.zx,{value:"Сохранить",onClick:()=>{const{v_working:e,v_otsenka:s}=u,{cipher:t,description:a}=v;d(t,a,s.value,e.value)},disabled:!b.value||null==h.value})}))]})}))};var N=t(4504),w=t(1491),k=t(9250),S=t(5998),D=t(7712),$=t(6670),C=t(9560),z=t(3932);const Y=({item:e,index:s,showModal:t,changeReport:l})=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",Object.assign({className:"text-center"},{children:s+1})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.discipline})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.short_name})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.visitDate})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.otsenka})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.working_off})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.paymentStatus})),(0,a.jsxs)("td",Object.assign({className:"text-center"},{children:[e.statusUpd?(0,a.jsx)("img",{style:{cursor:"pointer",marginRight:"10px"},onClick:t.bind(null,e.id_T_StudentJournalVisit_working_off,e.id_otsenka,e.id,e.paymentStatus),src:C.z,alt:"pencil"}):null,e.printer?(0,a.jsx)("img",{src:z.Kh,alt:"print",style:{cursor:"pointer",width:"22px"},onClick:l.bind(null,e.id)}):null]}))]});var U=function(e,s,t,a){return new(t||(t=Promise))((function(l,i){function n(e){try{d(a.next(e))}catch(e){i(e)}}function c(e){try{d(a.throw(e))}catch(e){i(e)}}function d(e){var s;e.done?l(e.value):(s=e.value,s instanceof t?s:new t((function(e){e(s)}))).then(n,c)}d((a=a.apply(e,s||[])).next())}))};const M={fontSize:"12px",fontWeight:"bold",textDecoration:"underline",cursor:"pointer"},F={backgroundColor:"#5488FF",color:"white"},R=({is:e})=>{const s=(0,w.U)(),{request:t}=((0,k.s0)(),(0,b.i)()),l=(0,S.I0)(),{showAdmissionReport:i,hideAdmissionReport:r}=D.q.actions,{id_role:u,id_user:o,id_avn_user:g}=(0,d.X)((e=>e.authReducer)),{years:j,isLoaderYear:h}=(0,d.X)((e=>e.yearReducer)),{ws:_,isLoaderWs:x}=(0,d.X)((e=>e.wsReducer)),[p,C]=n.useState(""),[z,R]=n.useState(""),[P,W]=n.useState([]),[V,E]=n.useState([]),[J,A]=n.useState(!1),[X,I]=n.useState({value:null,label:""}),[T,H]=n.useState({value:null,label:""}),[L,K]=n.useState({student:!1,studentDetail:!1}),[Z,G]=n.useState(null),[q,Q]=n.useState({student:!1,studentDetail:!1}),[B,ee]=n.useState(null),[se,te]=n.useState(null),[ae,le]=n.useState(null),[ie,ne]=n.useState(null),[ce,de]=n.useState([]),[re,ue]=n.useState([]),[oe,ve]=n.useState(""),ge=e=>{ne(e),l(i())},je=(e,s)=>U(void 0,void 0,void 0,(function*(){G(e),le(s),Q(Object.assign(Object.assign({},q),{studentDetail:!0})),L.studentDetail&&K(Object.assign(Object.assign({},L),{studentDetail:!1}));const{data:a}=yield t(`/teacher/search-student-detail?id_year=${X.value}&id_ws=${T.value}&id_role=${u}&id_avn_user=${g}&id_user=${o}&id_group=${s}&id_student=${e}&id_semester=0`);if(E(a),Q(Object.assign(Object.assign({},q),{studentDetail:!1})),a.length)return E(a);K(Object.assign(Object.assign({},L),{studentDetail:!0}))}));n.useEffect((()=>{if(j.length){const{id_a_year:e,p32:s}=j.find((e=>1==e.defaultValue));I({label:s,value:e})}}),[j]),n.useEffect((()=>{if(_.length){const{id_ws:e,ws:s}=_.find((e=>1==e.defaultValue));H({label:s,value:e})}}),[_]),n.useEffect((()=>{u==N.bR&&(U(void 0,void 0,void 0,(function*(){const{data:e}=yield t("/teacher/get-otsenka","POST",{role:u,date:v()(new Date).format("YYYY-MM-DD")});de(e)})),U(void 0,void 0,void 0,(function*(){const{data:e}=yield t("/dekanat/working");ue(e)})))}),[u]);const be=(e,s,t,a)=>{ee(e),te(s),ve(a),ne(t),document.body.style.overflowY="hidden",A(!0)},he=n.useMemo((()=>"н/б"==z?V.filter((e=>"н/б"==e.otsenka)).map(((e,s)=>(0,a.jsx)(Y,{item:e,index:s,showModal:be,changeReport:ge},e.id))):z.length?V.filter((e=>e.short_name==z)).map(((e,s)=>(0,a.jsx)(Y,{item:e,index:s,showModal:be,changeReport:ge},e.id))):V.map(((e,s)=>(0,a.jsx)(Y,{item:e,index:s,showModal:be,changeReport:ge},e.id)))),[V,z]);return e?(0,a.jsx)($.Y,{id:ie,back:()=>{l(r())}}):(0,a.jsxs)(a.Fragment,{children:[J&&(0,a.jsx)(f,{idOtsenka:se,idWorking:B,working:re,hideModal:()=>{document.body.style.overflowY="visible",A(!1)},updateJournal:(e,a,l,i)=>U(void 0,void 0,void 0,(function*(){const{message:n,type:c}=yield t("/dekanat/journal","PUT",{id:ie,id_role:u,id_user:o,id_otsenka_old:se,id_working_old:B,cipher:e,id_otsenka_new:l,id_working_new:i,description:a});s(n,c),A(!1),je(Z,ae)})),grade:ce,status:oe}),(0,a.jsx)("div",Object.assign({className:"box_container"},{children:(0,a.jsxs)("div",Object.assign({className:"QAxU43FLuLAHBD6vuMiD"},{children:[(0,a.jsx)("div",Object.assign({className:y},{children:(0,a.jsx)(c.uU,{placeholder:"Учебный год",label:"Учебный год",value:X,options:j.map((e=>({value:e.id_a_year,label:e.p32}))),onChange:e=>{I(e),P.length&&W([]),V.length&&E([])},loader:h})})),(0,a.jsx)("div",Object.assign({className:y},{children:(0,a.jsx)(c.uU,{placeholder:"Полугодие",label:"Полугодие",value:T,options:_.map((e=>({value:e.id_ws,label:e.ws}))),onChange:e=>{H(e),P.length&&W([]),V.length&&E([])},loader:x})})),(0,a.jsxs)("form",Object.assign({className:"w-100 flex justify-content-between gap-2 align-items-center align-items-end"},{children:[(0,a.jsx)("div",Object.assign({style:{width:"100%",flex:2}},{children:(0,a.jsx)(c.II,{label:"Найти",placeholder:"Введите ФИО студента",readOnly:!X.value||!T.value,value:p,onChange:e=>C(e.target.value),className:"w-100",type:"search"})})),(0,a.jsx)(c.zx,{className:"bg-color-primary w-25",disabled:!p.length||!X.value||!T.value,onClick:e=>U(void 0,void 0,void 0,(function*(){e.preventDefault(),L.student&&K(Object.assign(Object.assign({},L),{student:!1})),z.length&&R(""),P.length&&W([]),V.length&&E([]),Q(Object.assign(Object.assign({},q),{student:!0}));const{data:s}=yield t("/teacher/search-student","POST",{value:p.trim(),id_role:u,id_avn_user:g,id_user:o,id_ws:T.value,id_year:X.value});if(Q(Object.assign(Object.assign({},q),{student:!1})),s.length)return W(s);K(Object.assign(Object.assign({},L),{student:!0}))})),value:"Поиск"})]}))]}))})),(0,a.jsxs)("div",Object.assign({className:"flex justify-content-between mt-2 gap-2"},{children:[(0,a.jsxs)("div",Object.assign({className:"box_container w-100"},{children:[q.student&&(0,a.jsx)("div",Object.assign({className:"flex justify-content-center mt-2"},{children:(0,a.jsx)(c.aN,{})})),(0,a.jsxs)("div",Object.assign({style:{height:"64vh",overflowY:"auto"}},{children:[L.student&&(0,a.jsx)("p",Object.assign({className:"text-center mt-2"},{children:"Данные не найдены!"})),(0,a.jsxs)("table",Object.assign({className:m},{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"№"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"ФИО"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Группы"}))]})}),(0,a.jsx)("tbody",{children:P.map(((e,s)=>(0,a.jsxs)("tr",Object.assign({style:{cursor:"pointer"},onClick:je.bind(null,e.id_student,e.id_group)},{children:[(0,a.jsx)("td",Object.assign({style:e.id_student==Z?F:{},className:"text-center"},{children:s+1})),(0,a.jsx)("td",Object.assign({style:e.id_student==Z?F:{}},{children:e.s_fio})),(0,a.jsxs)("td",Object.assign({style:e.id_student==Z?F:{},className:"text-center"},{children:[e.rate," ",e.groups," ",e.faculty]}))]}))))})]}))]}))]})),(0,a.jsxs)("div",Object.assign({style:{minHeight:"200px"},className:"box_container w-100"},{children:[q.studentDetail&&(0,a.jsx)("div",Object.assign({className:"flex justify-content-center mt-2"},{children:(0,a.jsx)(c.aN,{})})),(0,a.jsxs)("div",Object.assign({style:{height:"64vh",overflowY:"auto"}},{children:[(0,a.jsxs)("div",Object.assign({className:"flex justify-content-around"},{children:[(0,a.jsx)("div",Object.assign({className:O,style:"Лк"==z?M:{fontSize:"12px",cursor:"pointer"},onClick:R.bind(null,"Лк")},{children:"Лк"})),(0,a.jsx)("div",Object.assign({className:O,style:"Пр"==z?M:{fontSize:"12px",cursor:"pointer"},onClick:R.bind(null,"Пр")},{children:"Пр"})),(0,a.jsx)("div",Object.assign({className:O,style:"Лб"==z?M:{fontSize:"12px",cursor:"pointer"},onClick:R.bind(null,"Лб")},{children:"Лб"})),(0,a.jsx)("div",Object.assign({className:O,style:"н/б"==z?M:{fontSize:"12px",cursor:"pointer"},onClick:R.bind(null,"н/б")},{children:"н/б"})),(0,a.jsx)("div",Object.assign({className:O,style:{fontSize:"12px",cursor:"pointer"},onClick:R.bind(null,"")},{children:"Сбросить"}))]})),L.studentDetail&&(0,a.jsx)("p",Object.assign({className:"text-center mt-2"},{children:"Данные не найдены!"})),(0,a.jsxs)("table",Object.assign({className:m},{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"№"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Дисциплина"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Вид занятие"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Дата"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Оценка"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Тип отработки"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Оплачено"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Действие"}))]})}),(0,a.jsx)("tbody",{children:he})]}))]}))]}))]}))]})};var P=t(6770);const W=({index:e,postSubGroupStudent:s,item:t})=>{const[l,i]=n.useState({value:null,label:""}),[d,r]=n.useState({id_student:null,id_studentJournalVisit_subgroup:null});return n.useEffect((()=>{i({value:t.subgroup,label:t.subgroup?`${t.subgroup} - Подгруппа`:""})}),[t]),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e+1})),(0,a.jsx)("td",Object.assign({style:{paddingLeft:"10px"}},{children:t.s_fio})),(0,a.jsx)("td",Object.assign({className:"text-center p-l-r-1"},{children:(0,a.jsx)(c.uU,{value:l.value?l:"",onFocus:r.bind(null,{id_studentJournalVisit_subgroup:t.id_studentJournalVisit_subgroup,id_student:t.id_student}),placeholder:"--",options:P.C3,onChange:e=>{s(null==d?void 0:d.id_student,e.value,null==d?void 0:d.id_studentJournalVisit_subgroup),i(e)}})}))]})};var V=function(e,s,t,a){return new(t||(t=Promise))((function(l,i){function n(e){try{d(a.next(e))}catch(e){i(e)}}function c(e){try{d(a.throw(e))}catch(e){i(e)}}function d(e){var s;e.done?l(e.value):(s=e.value,s instanceof t?s:new t((function(e){e(s)}))).then(n,c)}d((a=a.apply(e,s||[])).next())}))};const E=({toReport:e,groups:s,setGroups:t,setVidZanyatie:l,vidZanyatie:i})=>{const{request:r}=(0,b.i)(),o=(0,w.U)(),{id_user:g,id_role:j}=(0,d.X)((e=>e.authReducer)),[h,_]=n.useState([]),[x,p]=n.useState(),[m,O]=n.useState([]),[y,f]=n.useState([]),[N,k]=n.useState([]),[S,D]=n.useState(!1),[$,C]=n.useState([]),[z,Y]=n.useState({discipline:!1,semester:!1,group:!1,vidZanyatie:!1,student:!1,modal:!1}),[U,M]=n.useState({v_year:{value:null,label:""},v_semester:{value:null,label:""},v_group:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},v_amount:{value:null,label:""},v_type_group:{value:null,label:""},v_sub_group:{value:0,label:""},v_otsenka:{value:null,label:""},date:""}),[F,R]=n.useState({value:null,label:""}),[E,J]=n.useState(),{years:A}=(0,d.X)((e=>e.yearReducer)),{ws:X}=(0,d.X)((e=>e.wsReducer)),I=(e,s)=>V(void 0,void 0,void 0,(function*(){Y(Object.assign(Object.assign({},z),{discipline:!0}));const{v_year:t}=U,{data:a}=yield r(`/teacher/discipline?id_year=${s}&id_ws=${e}&id_teacher=${g}`);_(a),Y(Object.assign(Object.assign({},z),{discipline:!1}))})),T=(e=0)=>V(void 0,void 0,void 0,(function*(){Y(Object.assign(Object.assign({},z),{student:!0}));const{v_year:s,v_group:t,v_semester:a,v_vid_zanyatie:l,v_amount:i,date:n}=U,{data:c}=yield r(`/teacher/student-list?id_year=${s.value}&id_teacher=${g}&id_discipline=${null==x?void 0:x.id_discipline}&isSelect=${null==x?void 0:x.isSelect}&credit=${null==x?void 0:x.Krdt}&id_semester=${a.value}&group=${t.value}&visitDate=${n}&id_vid_zaniatiy=${l.value}&timesCount=${i.value}&subgroup=${e}`);f(c),Y(Object.assign(Object.assign({},z),{student:!1}))})),H=()=>V(void 0,void 0,void 0,(function*(){Y(Object.assign(Object.assign({},z),{modal:!0}));const{v_year:e,v_group:s,v_semester:t,v_vid_zanyatie:a}=U,{data:l}=yield r(`/teacher/subgroup-students?year=${e.value}&semester=${t.value}&discipline=${null==x?void 0:x.id_discipline}&credit=${null==x?void 0:x.Krdt}&group=${null==s?void 0:s.value}&id_teacher=${g}&id_vid_zaniatiy=${a.value}`);C(l),Y(Object.assign(Object.assign({},z),{modal:!1}))})),L=e=>V(void 0,void 0,void 0,(function*(){const{v_sub_group:s,v_type_group:t}=U,{message:a,type:l}=yield r("/teacher/otsenka","PUT",{id_teacher:g,id_student:null==E?void 0:E.id_student,id_discipline:null==E?void 0:E.id_discipline,credit:null==E?void 0:E.kredits,visitDate:null==E?void 0:E.visitDate,isVisited:null==E?void 0:E.isVisited,id_groupOrPorok:null==E?void 0:E.id_groupOrPorok,isPotok:null==x?void 0:x.isSelect,id_year:null==E?void 0:E.id_a_year,id_semesterOrWs:null==E?void 0:E.id_semesterOrWs,id_vid_zaniatiy:null==E?void 0:E.id_vid_zaniatiy,timesCount:null==E?void 0:E.timesCount,id_otsenka:e.value,typeGroup:t.value,subgroup:s.value});o(a,l)})),K=(e,s,t)=>V(void 0,void 0,void 0,(function*(){const{v_group:a,v_year:l,v_vid_zanyatie:i,v_semester:n}=U,{message:c,type:d}=yield r("/teacher/subgroup","POST",{year:l.value,discipline:null==x?void 0:x.id_discipline,credit:null==x?void 0:x.Krdt,id_teacher:g,id_vid_zaniatiy:i.value,id_semesterOrWs:n.value,id_groupOrPorok:a.value,id_student:e,studentSubgroup:t,subgroup:s});H(),o(c,d)}));n.useEffect((()=>{if(A.length){const{id_a_year:e,p32:s}=A.find((e=>1==e.defaultValue));if(M(Object.assign(Object.assign({},U),{v_year:{value:e,label:s}})),X.length){const{id_ws:s,ws:t}=X.find((e=>1==e.defaultValue));R({value:s,label:t}),I(s,e)}}}),[A,X]);const{v_year:Z,v_semester:G,v_group:q,v_vid_zanyatie:Q,v_type_group:B,date:ee,v_amount:se,v_sub_group:te}=U;return(0,a.jsxs)(a.Fragment,{children:[S&&(0,a.jsx)(c.Du,Object.assign({title:"Сформировать подгруппы",hide:()=>{document.body.style.overflowY="visible",D(!1),C([]);const{v_sub_group:e}=U;if(e.value)return T(e.value)}},{children:(0,a.jsxs)(a.Fragment,{children:[z.modal&&(0,a.jsx)("div",Object.assign({className:"flex justify-content-center align-items-center"},{children:(0,a.jsx)(c.aN,{})})),$.length?(0,a.jsxs)("table",Object.assign({className:"table"},{children:[(0,a.jsx)("thead",Object.assign({style:{top:"0"},className:"bg-light"},{children:(0,a.jsxs)("tr",Object.assign({style:{backgroundColor:"white",textAlign:"center"}},{children:[(0,a.jsx)("th",{children:"№"}),(0,a.jsx)("th",{children:"ФИО"}),(0,a.jsx)("th",Object.assign({style:{width:"200px"}},{children:"Подгруппа"}))]}))})),(0,a.jsx)("tbody",{children:$.map(((e,s)=>(0,a.jsx)(W,{item:e,index:s,postSubGroupStudent:K},e.id_student)))})]})):null]})})),(0,a.jsxs)("div",Object.assign({className:"box_container"},{children:[(0,a.jsxs)("div",Object.assign({className:"HbfyqobszXHE58rFajjy"},{children:[(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Учебный год",label:"Учебный год",value:Z,options:A.map((e=>({value:e.id_a_year,label:e.p32}))),onChange:e=>{M({v_year:e,v_sub_group:{value:null,label:""},v_type_group:{value:null,label:""},v_group:{value:null,label:""},v_semester:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},date:"",v_otsenka:{value:null,label:""},v_amount:{value:null,label:""}}),R({value:null,label:""}),p(void 0)}})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Полугодие",label:"Полугодие",value:F.value?F:"",options:X.map((e=>({value:e.id_ws,label:e.ws}))),onChange:e=>{R(e);const{v_year:a}=U;p(void 0),h.length&&_([]),I(e.value,a.value),m&&O([]),s.length&&t([]),i.length&&l([]),y.length&&f([])},isDisabled:!Z.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Дисциплина",label:"Дисциплина",value:(null==x?void 0:x.discipline)?{value:x.discipline,label:x.discipline}:"",options:h.map((e=>({value:e.discipline,label:e.discipline}))),loader:z.discipline,onChange:e=>{const a=h.find((s=>s.discipline===e.value));p(a),M(Object.assign(Object.assign({},U),{v_sub_group:{value:null,label:""},v_type_group:{value:null,label:""},v_group:{value:null,label:""},v_semester:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},date:"",v_otsenka:{value:null,label:""},v_amount:{value:null,label:""}})),m&&O([]),((e,s,t)=>{V(void 0,void 0,void 0,(function*(){Y(Object.assign(Object.assign({},z),{semester:!0}));const{v_year:a}=U,{data:l}=yield r(`/teacher/semester?id_year=${a.value}&id_ws=${F.value}&id_teacher=${g}&id_discipline=${e}&isSelect=${s}&credit=${t}`);O(l),Y(Object.assign(Object.assign({},z),{semester:!1}))}))})(null==a?void 0:a.id_discipline,null==a?void 0:a.isSelect,null==a?void 0:a.Krdt),s.length&&t([]),i.length&&l([]),y.length&&f([])},isDisabled:!F.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Семестр",label:"Семестр",value:G.value?G:"",options:m.map((e=>({value:e.id_semester,label:e.semester}))),loader:z.semester,onChange:e=>{M(Object.assign(Object.assign({},U),{v_semester:e,v_sub_group:{value:null,label:""},v_type_group:{value:null,label:""},v_group:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},date:"",v_otsenka:{value:null,label:""},v_amount:{value:null,label:""}})),s.length&&t([]),(e=>{V(void 0,void 0,void 0,(function*(){Y(Object.assign(Object.assign({},z),{group:!0}));const{v_year:s}=U,{data:a}=yield r(`/teacher/group?id_year=${s.value}&id_ws=${F.value}&id_teacher=${g}&id_discipline=${null==x?void 0:x.id_discipline}&isSelect=${null==x?void 0:x.isSelect}&credit=${null==x?void 0:x.Krdt}&id_semester=${e}`);t(a),Y(Object.assign(Object.assign({},z),{group:!1}))}))})(e.value),i.length&&l([]),y.length&&f([])},isDisabled:!(null==x?void 0:x.discipline)})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Группа",label:"Группа",value:q.value?q:"",options:s.map((e=>({value:e.id_group,label:e.groups}))),loader:z.group,onChange:e=>{M(Object.assign(Object.assign({},U),{v_group:e,v_sub_group:{value:null,label:""},v_type_group:{value:null,label:""},v_vid_zanyatie:{value:null,label:""},date:"",v_otsenka:{value:null,label:""},v_amount:{value:null,label:""}})),i.length&&l([]),V(void 0,void 0,void 0,(function*(){Y(Object.assign(Object.assign({},z),{vidZanyatie:!0}));const{data:e}=yield r("/teacher/vid-zanyatie");l(e),Y(Object.assign(Object.assign({},z),{vidZanyatie:!1}))})),y.length&&f([])},isDisabled:!G.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Вид занятие",label:"Вид занятие",value:Q.value?Q:"",options:i.map((e=>({value:e.id_vid_zaniatiy,label:e.name_vid_zaniatiy}))),loader:z.vidZanyatie,onChange:e=>{M(Object.assign(Object.assign({},U),{v_vid_zanyatie:e,v_sub_group:{value:null,label:""},v_type_group:{value:null,label:""},v_otsenka:{value:null,label:""},v_amount:{value:null,label:""}})),y.length&&f([])},isDisabled:!q.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Количество раз",label:"Количество раз",value:se.value?se:"",options:P.pJ,onChange:e=>{M(Object.assign(Object.assign({},U),{v_amount:e,v_type_group:{value:null,label:""}})),y.length&&f([])},isDisabled:!Q.value})})),(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.II,{label:"Дата посещения",value:ee,onChange:e=>{const s=v()(new Date).format("YYYY-MM-DD"),t=v()(e.target.value).format("YYYY-MM-DD");if(t>s)return o("Нельзя выбрать завтрашний день","warn");M(Object.assign(Object.assign({},U),{date:e.target.value,v_sub_group:{value:null,label:""},v_type_group:{value:null,label:""},v_otsenka:{value:null,label:""}})),(e=>{V(void 0,void 0,void 0,(function*(){const{data:s}=yield r("/teacher/get-otsenka","POST",{role:j,date:e});k(s)}))})(t),y.length&&f([])},type:"date",min:"00-00-0000",max:"2099-01-01",readOnly:!se.value})})),0===(null==x?void 0:x.isSelect)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{placeholder:"Тип группы",label:"Тип группы",value:B.value||0==B.value?B:"",options:P.P3,loader:z.group,onChange:e=>{if(e.value)return M(Object.assign(Object.assign({},U),{v_type_group:e})),f([]);M(Object.assign(Object.assign({},U),{v_type_group:e,v_sub_group:{value:null,label:""},v_otsenka:{value:null,label:""}})),T()},isDisabled:!ee.length})})),1==B.value&&(0,a.jsx)("div",Object.assign({className:"w-100"},{children:(0,a.jsx)(c.uU,{value:te.value?te:"",placeholder:"Подгруппа",label:"Подгруппа",options:P.Li,loader:z.group,onChange:e=>{M(Object.assign(Object.assign({},U),{v_sub_group:e,v_otsenka:{value:null,label:""}})),T(e.value)},isDisabled:!B.value})}))]}):null]})),(0,a.jsxs)("div",Object.assign({className:"mt-2 flex gap-2 flex-wrap"},{children:[1==B.value&&(0,a.jsx)(c.zx,{onClick:()=>{document.body.style.overflowY="hidden",D(!0),H()},value:"Сформировать",disabled:!(1==B.value)}),(0,a.jsx)(c.zx,{onClick:()=>V(void 0,void 0,void 0,(function*(){const{v_type_group:e,v_sub_group:s}=U,{timesCount:t,id_vid_zaniatiy:a,id_discipline:l,id_semesterOrWs:i,id_groupOrPorok:n,isVisited:c,visitDate:d,id_a_year:u,kredits:v}=y[0],{message:j,type:b}=yield r("/teacher/otsenka","POST",{id_teacher:g,id_discipline:l,credit:v,visitDate:d,isVisited:c,id_groupOrPorok:n,isPotok:null==x?void 0:x.isSelect,id_year:u,id_semesterOrWs:i,id_vid_zaniatiy:a,timesCount:t,typeGroup:e.value,subgroup:s.value});o(j,b),T()})),value:"Все присутствовали",disabled:!y.length}),(0,a.jsx)(c.zx,{value:"Отчет журнала",disabled:!y.length,onClick:e.bind(null,x,{v_year:Z.value,v_group:q.value,v_vid_zanyatie:Q.value,v_ws:F.value})})]}))]})),z.student?(0,a.jsx)("div",Object.assign({className:"flex justify-content-center mt-2"},{children:(0,a.jsx)(c.aN,{})})):y.length?(0,a.jsx)("div",Object.assign({className:"overflow-auto mt-4 box_container",style:{maxHeight:"900px",minHeight:"400px"}},{children:(0,a.jsxs)("table",Object.assign({className:"table"},{children:[(0,a.jsx)("thead",Object.assign({className:"bg-light"},{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",Object.assign({className:"th"},{children:"№"})),(0,a.jsx)("th",Object.assign({className:"th"},{children:"ФИО"})),(0,a.jsx)("th",Object.assign({className:"th"},{children:"Оценка"}))]})})),(0,a.jsx)("tbody",{children:y.map(((e,s)=>(0,a.jsx)(u,{index:s,item:e,setStudent:J,grade:N,updateOtsenkaApi:L},e.id_student)))})]}))})):(0,a.jsx)("p",Object.assign({className:"text-center mt-4"},{children:"Пока нет данных!"}))]})},J="jbdjUNKeDpzKDwFwYH5w";var A=function(e,s,t,a){return new(t||(t=Promise))((function(l,i){function n(e){try{d(a.next(e))}catch(e){i(e)}}function c(e){try{d(a.throw(e))}catch(e){i(e)}}function d(e){var s;e.done?l(e.value):(s=e.value,s instanceof t?s:new t((function(e){e(s)}))).then(n,c)}d((a=a.apply(e,s||[])).next())}))};const X=()=>{const{request:e}=(0,b.i)(),s=(0,w.U)(),{id_role:t,id_user:l,id_avn_user:i}=(0,d.X)((e=>e.authReducer)),{years:r,isLoaderYear:u}=(0,d.X)((e=>e.yearReducer)),{ws:o,isLoaderWs:g}=(0,d.X)((e=>e.wsReducer)),[j,h]=n.useState(""),[_,x]=n.useState(""),[p,m]=n.useState([]),[O,y]=n.useState([]),[k,S]=n.useState(!1),[D,$]=n.useState({value:null,label:""}),[z,Y]=n.useState({value:null,label:""}),[U,M]=n.useState({student:!1,studentDetail:!1}),[F,R]=n.useState(null),[P,W]=n.useState({student:!1,studentDetail:!1}),[V,E]=n.useState(null),[X,I]=n.useState(null),[T,H]=n.useState(null),[L,K]=n.useState(null),[Z,G]=n.useState([]),[q,Q]=n.useState([]),[B,ee]=n.useState(""),se=(s,a)=>A(void 0,void 0,void 0,(function*(){R(s),H(a),W(Object.assign(Object.assign({},P),{studentDetail:!0})),U.studentDetail&&M(Object.assign(Object.assign({},U),{studentDetail:!1}));const{data:n}=yield e(`/teacher/search-student-detail?id_year=${D.value}&id_ws=${z.value}&id_role=${t}&id_avn_user=${i}&id_user=${l}&id_group=${a}&id_student=${s}&id_semester=0`);if(y(n),W(Object.assign(Object.assign({},P),{studentDetail:!1})),n.length)return y(n);M(Object.assign(Object.assign({},U),{studentDetail:!0}))})),te=n.useMemo((()=>"н/б"==_?O.filter((e=>"н/б"==e.otsenka)).map(((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",Object.assign({className:"text-center"},{children:s+1})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.discipline})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.short_name})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.visitDate})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.otsenka})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.working_off})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.statusUpd?(0,a.jsx)("img",{style:{cursor:"pointer"},src:C.z,alt:"pencil"}):null}))]}))):_.length?O.filter((e=>e.short_name==_)).map(((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",Object.assign({className:"text-center"},{children:s+1})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.discipline})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.short_name})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.visitDate})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.otsenka})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.working_off})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.statusUpd?(0,a.jsx)("img",{style:{cursor:"pointer"},src:C.z,alt:"pencil"}):null}))]}))):O.map(((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",Object.assign({className:"text-center"},{children:s+1})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.discipline})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.short_name})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.visitDate})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.otsenka})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.working_off})),(0,a.jsx)("td",Object.assign({className:"text-center"},{children:e.statusUpd?(0,a.jsx)("img",{style:{cursor:"pointer"},src:C.z,alt:"pencil"}):null}))]})))),[O,_]);return n.useEffect((()=>{if(r.length){const{id_a_year:e,p32:s}=r.find((e=>1==e.defaultValue));$({label:s,value:e})}}),[r]),n.useEffect((()=>{t==N.bR&&(A(void 0,void 0,void 0,(function*(){const{data:s}=yield e("/teacher/get-otsenka","POST",{role:t,date:v()(new Date).format("YYYY-MM-DD")});G(s)})),A(void 0,void 0,void 0,(function*(){const{data:s}=yield e("/dekanat/working");Q(s)})))}),[t]),n.useEffect((()=>{if(o.length){const{id_ws:e,ws:s}=o.find((e=>1==e.defaultValue));Y({label:s,value:e})}}),[o]),(0,a.jsxs)(a.Fragment,{children:[k&&(0,a.jsx)(f,{idOtsenka:X,idWorking:V,working:q,hideModal:()=>{document.body.style.overflowY="visible",S(!1)},updateJournal:(a,i,n,c)=>A(void 0,void 0,void 0,(function*(){const{message:d,type:r}=yield e("/dekanat/journal","PUT",{id:L,id_role:t,id_user:l,id_otsenka_old:X,id_working_old:V,cipher:a,id_otsenka_new:n,id_working_new:c,description:i});s(d,r),S(!1),se(F,T)})),grade:Z,status:B}),(0,a.jsx)("div",Object.assign({className:"box_container"},{children:(0,a.jsxs)("div",Object.assign({className:"YunaKfO_5kjDgwyzS1iN"},{children:[(0,a.jsx)("div",Object.assign({className:"w-100",style:{maxWidth:"250px"}},{children:(0,a.jsx)(c.uU,{placeholder:"Учебный год",label:"Учебный год",value:D,options:r.map((e=>({value:e.id_a_year,label:e.p32}))),onChange:e=>{$(e),p.length&&m([]),O.length&&y([])},loader:u})})),(0,a.jsx)("div",Object.assign({className:"w-100",style:{maxWidth:"250px"}},{children:(0,a.jsx)(c.uU,{placeholder:"Полугодие",label:"Полугодие",value:z,options:o.map((e=>({value:e.id_ws,label:e.ws}))),onChange:e=>{Y(e),p.length&&m([]),O.length&&y([])},loader:g})})),(0,a.jsxs)("form",Object.assign({className:"w-100 flex justify-content-between gap-2 align-items-center align-items-end"},{children:[(0,a.jsx)("div",Object.assign({style:{width:"100%",flex:2}},{children:(0,a.jsx)(c.II,{label:"Найти",placeholder:"Введите ФИО студента",readOnly:!D.value||!z.value,value:j,onChange:e=>{h(e.target.value)},className:"w-100",type:"search"})})),(0,a.jsx)(c.zx,{className:"bg-color-primary w-25",disabled:!j.length||!D.value||!z.value,onClick:s=>A(void 0,void 0,void 0,(function*(){s.preventDefault(),U.student&&M(Object.assign(Object.assign({},U),{student:!1})),_.length&&x(""),p.length&&m([]),O.length&&y([]),W(Object.assign(Object.assign({},P),{student:!0}));const{data:a}=yield e("/teacher/search-student","POST",{value:j.trim(),id_role:t,id_avn_user:i,id_user:l,id_ws:z.value,id_year:D.value});if(W(Object.assign(Object.assign({},P),{student:!1})),a.length)return m(a);M(Object.assign(Object.assign({},U),{student:!0}))})),value:"Поиск"})]}))]}))})),(0,a.jsxs)("div",Object.assign({className:"flex justify-content-between mt-2 gap-2"},{children:[(0,a.jsxs)("div",Object.assign({className:"box_container w-100"},{children:[P.student&&(0,a.jsx)("div",Object.assign({className:"flex justify-content-center mt-2"},{children:(0,a.jsx)(c.aN,{})})),(0,a.jsxs)("div",Object.assign({style:{height:"64vh",overflowY:"auto"}},{children:[U.student&&(0,a.jsx)("p",Object.assign({className:"text-center mt-2"},{children:"Данные не найдены!"})),(0,a.jsxs)("table",Object.assign({className:J},{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"№"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"ФИО"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Группы"}))]})}),(0,a.jsx)("tbody",{children:p.map(((e,s)=>(0,a.jsxs)("tr",Object.assign({style:{cursor:"pointer"},onClick:se.bind(null,e.id_student,e.id_group)},{children:[(0,a.jsx)("td",Object.assign({style:e.id_student==F?{backgroundColor:"#5488FF",color:"white"}:{},className:"text-center"},{children:s+1})),(0,a.jsx)("td",Object.assign({style:e.id_student==F?{backgroundColor:"#5488FF",color:"white",paddingLeft:"5px"}:{}},{children:e.s_fio})),(0,a.jsxs)("td",Object.assign({style:e.id_student==F?{backgroundColor:"#5488FF",color:"white"}:{},className:"text-center"},{children:[e.rate," ",e.groups," ",e.faculty]}))]}))))})]}))]}))]})),(0,a.jsxs)("div",Object.assign({style:{minHeight:"200px"},className:"box_container w-100"},{children:[P.studentDetail&&(0,a.jsx)("div",Object.assign({className:"flex justify-content-center mt-2"},{children:(0,a.jsx)(c.aN,{})})),(0,a.jsxs)("div",Object.assign({style:{height:"64vh",overflowY:"auto"}},{children:[(0,a.jsxs)("div",Object.assign({className:"flex justify-content-around"},{children:[(0,a.jsx)("div",Object.assign({style:"Лк"==_?{fontSize:"12px",fontWeight:"bold",textDecoration:"underline",cursor:"pointer"}:{fontSize:"12px",cursor:"pointer"},onClick:x.bind(null,"Лк")},{children:"Лк"})),(0,a.jsx)("div",Object.assign({style:"Пр"==_?{fontSize:"12px",fontWeight:"bold",textDecoration:"underline",cursor:"pointer"}:{fontSize:"12px",cursor:"pointer"},onClick:x.bind(null,"Пр")},{children:"Пр"})),(0,a.jsx)("div",Object.assign({style:"Лб"==_?{fontSize:"12px",fontWeight:"bold",textDecoration:"underline",cursor:"pointer"}:{fontSize:"12px",cursor:"pointer"},onClick:x.bind(null,"Лб")},{children:"Лб"})),(0,a.jsx)("div",Object.assign({style:"н/б"==_?{fontSize:"12px",fontWeight:"bold",textDecoration:"underline",cursor:"pointer"}:{fontSize:"12px",cursor:"pointer"},onClick:x.bind(null,"н/б")},{children:"н/б"})),(0,a.jsx)("div",Object.assign({className:"color-danger",style:{fontSize:"12px",cursor:"pointer"},onClick:x.bind(null,"")},{children:"Сбросить"}))]})),U.studentDetail&&(0,a.jsx)("p",Object.assign({className:"text-center mt-2"},{children:"Данные не найдены!"})),(0,a.jsxs)("table",Object.assign({className:J},{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"№"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Дисциплина"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Вид занятие"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Дата"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Оценка"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Тип отработки"})),(0,a.jsx)("th",Object.assign({className:"text-center"},{children:"Действие"}))]})}),(0,a.jsx)("tbody",{children:te})]}))]}))]}))]}))]})}},5382:()=>{},2095:()=>{},1219:()=>{}}]);